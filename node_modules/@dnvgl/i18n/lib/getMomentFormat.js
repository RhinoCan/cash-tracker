import { resolveDateTimeFormatOptions } from "./internal/resolveDateTimeFormatOptions";
import { createDateFormatIntlObj } from "./internal/createDateFormatIntlObj";
var dateForParts = new Date(2020, 5, 5, 5, 5, 5);
export function getMomentFormat(precision, locale) {
    if (precision === void 0) { precision = "days"; }
    var intlFormat = createDateFormatIntlObj(locale, resolveDateTimeFormatOptions(precision)), parts = intlFormat.formatToParts(dateForParts), hasDayPeriod = parts.some(function (x) { return x.type === "dayPeriod"; });
    return parts
        .map(function (x) {
        switch (x.type) {
            case "year": return "YYYY";
            case "month": return x.value.length === 1 ? "M" : "MM";
            case "day": return x.value.length === 1 ? "D" : "DD";
            case "hour": return x.value.length === 1 ? hasDayPeriod ? "h" : "H" : hasDayPeriod ? "hh" : "HH";
            case "minute": return x.value.length === 1 ? "m" : "mm";
            case "second": return x.value.length === 1 ? "s" : "ss";
            case "dayPeriod": return "A";
            case "literal": return "[".concat(x.value, "]");
            case "era": return '';
            case "timeZoneName": return 'Z';
            case "weekday": return "ddd";
            default: return '';
        }
    })
        .join('')
        .replace("[ ][ ]", "[ ]");
}
