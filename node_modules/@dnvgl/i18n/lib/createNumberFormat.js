import { findIso4217Currency } from "./findIso4217Currency";
import { createNumberFormatIntlObj } from "./internal/createNumberFormatIntlObj";
export function createNumberFormat(options, locale) {
    return {
        numberFormat: createNumberFormatIntlObj(locale, createFormatterOptions(options)),
        useBankersRounding: options === null || options === void 0 ? void 0 : options.useBankersRounding,
        negativeZero: options === null || options === void 0 ? void 0 : options.negativeZero,
        maxPrecision: options === null || options === void 0 ? void 0 : options.maxPrecision
    };
}
function createFormatterOptions(opts) {
    var _a, _b, _c;
    var minimumFractionDigits = opts === null || opts === void 0 ? void 0 : opts.minPrecision, maximumFractionDigits = (_a = opts === null || opts === void 0 ? void 0 : opts.maxPrecision) !== null && _a !== void 0 ? _a : 10, style = (opts === null || opts === void 0 ? void 0 : opts.currency) ? "currency" : "decimal", currency = (opts === null || opts === void 0 ? void 0 : opts.currency) !== undefined
        ? typeof opts.currency === "string"
            ? opts.currency
            : (_b = findIso4217Currency(opts.currency)) === null || _b === void 0 ? void 0 : _b.alpha3Code
        : undefined;
    return {
        style: style,
        currency: currency,
        currencyDisplay: style === "currency"
            ? (_c = opts === null || opts === void 0 ? void 0 : opts.currencyDisplay) !== null && _c !== void 0 ? _c : "symbol"
            : undefined,
        currencySign: opts === null || opts === void 0 ? void 0 : opts.currencySign,
        minimumFractionDigits: minimumFractionDigits,
        maximumFractionDigits: maximumFractionDigits,
        useGrouping: (opts === null || opts === void 0 ? void 0 : opts.thousandsSeparator) === false ? false : true
    };
}
