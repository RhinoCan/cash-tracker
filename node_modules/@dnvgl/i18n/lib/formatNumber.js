import { createNumberFormat } from "./createNumberFormat";
import { roundUsingBankersMethod } from "./roundUsingBankersMethod";
export function formatNumber(value, options, locale) {
    if ((options === null || options === void 0 ? void 0 : options.useBankersRounding) && (options === null || options === void 0 ? void 0 : options.maxPrecision) !== undefined) {
        value = roundUsingBankersMethod(value, options.maxPrecision);
    }
    var formatOptions = (options === null || options === void 0 ? void 0 : options.numberFormat) !== undefined
        ? options
        : createNumberFormat(options, locale);
    var formattedValue = formatOptions.numberFormat.format(value);
    if ((options === null || options === void 0 ? void 0 : options.negativeZero) === false && value <= 0) {
        return formatOptions.numberFormat.format(-0) === formattedValue
            ? formatOptions.numberFormat.format(0)
            : formattedValue;
    }
    return formattedValue;
}
